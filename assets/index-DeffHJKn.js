import{d as h,j as e,B as o,D as k,n as A,o as z,p as q,q as O,S as c,T as d,v as w,w as V,P as C,A as P,x as W,L as b}from"./index-B_F8gq7p.js";import{u as B,F as H,a as _}from"./FilterField-Ckygdmrv.js";import{P as G}from"./PageHeader-Dnm_xLLQ.js";import{S as $}from"./SciDataGrid-CLqQmuo0.js";import{u as J,f as Q,F as Y}from"./useListQuery-xwt5i9UJ.js";import{S as K,D as U}from"./DataGrid-K9xlhomI.js";import{A as X,C as Z}from"./Close-gEtSsWxN.js";import"./DatePicker-C9rVKysU.js";import"./DateCalendar-B95p9UyC.js";import"./colorManipulator-CYoXMfyn.js";import"./Grid-Bjc-Qe0w.js";import"./useQuery-DHGin4DP.js";import"./useGridRootProps-BzPbPzBQ.js";import"./MenuItem-BmLA4qoe.js";import"./dividerClasses-CQeipYpM.js";import"./Divider-C6eJF-Cx.js";const ee=({filterConfigs:t,searchTerm:a,setPreviewItem:i})=>{const{activeFilters:r}=B(),[l,m]=h.useState(0),[s,f]=h.useState(25),[g,j]=h.useState(l*s),D="ID",S="client",{isPending:R,isFetching:N,isError:I,data:L,error:E}=J({activeFilters:r,dataSource:"data/DEPOT (last year).csv",filterConfigs:t,offset:g,pageSize:s,queryMode:S,staticParams:null}),M=n=>{i(n.row)},T=n=>{const x=n.pageSize!==s?0:n.page,p=n.pageSize,v=x*p;m(x),f(p),j(v)};if(R){const x=new Array(s).fill(null).map((p,v)=>v);return e.jsx(o,{sx:{padding:2},children:x.map(p=>e.jsx(K,{height:50},p))})}return I?e.jsx(X,{severity:"error",children:E.message}):e.jsxs(e.Fragment,{children:[N&&e.jsx(k,{variant:"indeterminate"}),e.jsx($,{rows:Q(L,r,t,a),pagination:!0,paginationMode:S,onPaginationModelChange:T,getRowId:n=>n[D],columns:[{field:"ID",headerName:"ID",width:100},{field:"Model",headerName:"Model",width:200},{field:"Nickname",headerName:"Nickname",width:250},{field:"Location",headerName:"Location",width:200},{field:"LastDate",headerName:"Last Date",width:150},{field:"Makername",headerName:"Manufacturer",width:200},{field:"State",headerName:"State",width:150},{field:"Subsystem",headerName:"Subsystem",width:150}],disableColumnSelector:!0,autoHeight:!0,initialState:{pagination:{paginationModel:{page:l,pageSize:s}}},onRowClick:M})]})};var u={},F;function te(){if(F)return u;F=1;var t=A();Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var a=t(z()),i=q();return u.default=(0,a.default)((0,i.jsx)("path",{d:"M10 18h4v-2h-4zM3 6v2h18V6zm3 7h12v-2H6z"}),"FilterList"),u}var ae=te();const ie=O(ae),re=({searchTerm:t,setSearchTerm:a,onToggleFiltersPanel:i})=>{const r=l=>{a(l.target.value)};return e.jsxs(c,{direction:"row",spacing:2,alignItems:"center",sx:{overflow:"hidden",padding:2},children:[e.jsx(d,{variant:"h6",component:"h2",flex:1,children:"Entity List"}),e.jsx(w,{startIcon:e.jsx(ie,{}),onClick:i,children:"Filters"}),e.jsx(V,{variant:"outlined",label:"Search",size:"small",value:t,onChange:r})]})},se=({filterConfigs:t,onClose:a})=>e.jsx(Y,{grouped:!1,onClose:a,sx:{border:"none"},children:t.map((i,r)=>e.jsx(H,{field:i.field,label:i.label,operator:"contains",filterComponent:i.filterComponent,filterProps:i.filterProps},`${i.field}-${r}`))}),ne=[{field:"id",headerName:"ID",width:50},{field:"attr1",headerName:"Attribute 1",width:100},{field:"attr2",headerName:"Attribute 2",width:100},{field:"attr3",headerName:"Attribute 3",width:100}],oe=Array(25).fill(0),le=oe.map((t,a)=>({id:a,attr1:"value",attr2:"value",attr3:"value"})),de=({previewItem:t,onClose:a})=>e.jsx(C,{elevation:0,sx:{height:"100%",padding:2},children:e.jsxs(c,{spacing:3,children:[e.jsxs(c,{spacing:1,children:[e.jsxs(c,{direction:"row",children:[e.jsx(d,{variant:"h6",component:"h3",flex:1,children:e.jsx(P,{to:"/explore-data/$id",params:{id:t.Id},children:t["Planet Name"]})}),e.jsx(W,{size:"small",onClick:a,children:e.jsx(Z,{})})]}),e.jsx(d,{variant:"body2",children:"Row description, subtitle, or helper text."})]}),e.jsxs(o,{children:[e.jsx(d,{fontWeight:"medium",mb:1,children:"Property Group 1"}),e.jsx(b,{rows:[{label:"Property 1",value:"value"},{label:"Property 2",value:"value"},{label:"Property 3",value:"value"}]})]}),e.jsxs(o,{children:[e.jsx(d,{fontWeight:"medium",mb:1,children:"Property Group 2"}),e.jsx(b,{rows:[{label:"Property 4",value:"value"},{label:"Property 5",value:"value"}]})]}),e.jsxs(o,{children:[e.jsx(d,{fontWeight:"medium",mb:1,children:"Related Data"}),e.jsx(U,{rows:le,columns:ne,disableRowSelectionOnClick:!0,initialState:{pagination:{paginationModel:{pageSize:5}}}})]}),e.jsxs(c,{direction:"row",children:[e.jsx(P,{to:"/explore-data/$id",params:{id:t.Id},children:e.jsx(w,{variant:"contained",children:"View details"})}),e.jsx(w,{variant:"outlined",children:"Export data"})]})]})}),y=[{field:"State",label:"State",operator:"contains-one-of",filterComponent:"CheckboxList",filterProps:{options:[{label:"New",value:"NEW"},{label:"Ready",value:"READY"},{label:"Spare",value:"SPARE"},{label:"Maintenance",value:"MAINT"}]}}],Ce=function(){const[a,i]=h.useState(""),[r,l]=h.useState(),[m,s]=h.useState(!0),f=()=>{s(!1)},g=()=>{s(!m)},j=()=>{l(null)};return e.jsx(_,{children:e.jsxs(o,{children:[e.jsx(G,{pageTitle:"Explore DEPOT Data",description:"View entries in DEPOT",sx:{marginBottom:1,padding:2}}),e.jsx(o,{children:e.jsxs(c,{direction:"row",children:[m&&e.jsx(o,{sx:{width:"350px"},children:e.jsx(se,{filterConfigs:y,onClose:f})}),e.jsxs(C,{elevation:0,sx:{flex:1,minHeight:"600px",minWidth:0},children:[e.jsx(re,{searchTerm:a,setSearchTerm:i,onToggleFiltersPanel:g}),e.jsx(ee,{filterConfigs:y,searchTerm:a,setPreviewItem:l})]}),r&&e.jsx(o,{sx:{minWidth:"400px"},children:e.jsx(de,{previewItem:r,onClose:j})})]})})]})})};export{Ce as component};
