import{d as c,j as e,B as o,D as T,n as z,o as q,p as O,q as W,S as p,T as m,v as b,E as V,w as B,P as L,A as C,x as H,L as D}from"./index-BnIdKn0F.js";import{u as _,F as G,a as $}from"./FilterField-D-Ydp0Gj.js";import{P as J}from"./PageHeader-CBCjvzxC.js";import{S as Q}from"./SciDataGrid-DAwAIcmZ.js";import{u as Y,f as K,F as U}from"./useListQuery-DSpCuCAG.js";import{S as X,D as Z}from"./DataGrid-B-yQAN5I.js";import{A as ee,C as te}from"./Close-C_r9NWc7.js";import{M as ae}from"./MenuItem-gm_szIqa.js";import"./DatePicker-Dce_wtPC.js";import"./DateCalendar-DoQyx1CX.js";import"./colorManipulator-T4FsmAoD.js";import"./Grid-IJD-m2OO.js";import"./useQuery-D8D7mxBQ.js";import"./useGridRootProps-vP8r8Z5l.js";import"./Divider-CQY4FN_X.js";import"./dividerClasses-FOrRkUpT.js";const re=({filterConfigs:t,searchTerm:a,searchColumn:r,setPreviewItem:s})=>{const{activeFilters:u}=_(),[d,h]=c.useState(0),[l,i]=c.useState(25),[g,j]=c.useState(d*l),w="ID",P="client",{isPending:M,isFetching:I,isError:N,data:R,error:E}=Y({activeFilters:u,dataSource:"data/DEPOT (last year).csv",filterConfigs:t,offset:g,pageSize:l,queryMode:P,staticParams:null}),k=n=>{s(n.row)},A=n=>{const f=n.pageSize!==l?0:n.page,x=n.pageSize,S=f*x;h(f),i(x),j(S)};if(M){const f=new Array(l).fill(null).map((x,S)=>S);return e.jsx(o,{sx:{padding:2},children:f.map(x=>e.jsx(X,{height:50},x))})}return N?e.jsx(ee,{severity:"error",children:E.message}):e.jsxs(e.Fragment,{children:[I&&e.jsx(T,{variant:"indeterminate"}),e.jsx(Q,{rows:K(R,u,t,a,r),pagination:!0,paginationMode:P,onPaginationModelChange:A,getRowId:n=>n[w],columns:[{field:"ID",headerName:"ID",width:100},{field:"Model",headerName:"Model",width:200},{field:"Nickname",headerName:"Nickname",width:250},{field:"Location",headerName:"Location",width:200},{field:"LastDate",headerName:"Last Date",width:150},{field:"Makername",headerName:"Manufacturer",width:200},{field:"State",headerName:"State",width:150},{field:"Subsystem",headerName:"Subsystem",width:150}],disableColumnSelector:!0,autoHeight:!0,initialState:{pagination:{paginationModel:{page:d,pageSize:l}}},onRowClick:k})]})};var v={},y;function ie(){if(y)return v;y=1;var t=z();Object.defineProperty(v,"__esModule",{value:!0}),v.default=void 0;var a=t(q()),r=O();return v.default=(0,a.default)((0,r.jsx)("path",{d:"M10 18h4v-2h-4zM3 6v2h18V6zm3 7h12v-2H6z"}),"FilterList"),v}var le=ie();const se=W(le),ne=({searchTerm:t,setSearchTerm:a,searchColumn:r,setSearchColumn:s,onToggleFiltersPanel:u})=>{const d=i=>{a(i.target.value)},h=i=>{s(i.target.value)},l=[{value:"all",label:"All Columns"},{value:"ID",label:"ID"},{value:"Model",label:"Model"},{value:"Nickname",label:"Nickname"},{value:"Location",label:"Location"},{value:"LastDate",label:"Last Date"},{value:"Makername",label:"Manufacturer"},{value:"State",label:"State"},{value:"Subsystem",label:"Subsystem"}];return e.jsxs(p,{direction:"row",spacing:2,alignItems:"center",sx:{overflow:"hidden",padding:2},children:[e.jsx(m,{variant:"h6",component:"h2",flex:1,children:"Entity List"}),e.jsx(b,{startIcon:e.jsx(se,{}),onClick:u,children:"Filters"}),e.jsx(V,{value:r,onChange:h,size:"small",sx:{minWidth:150},children:l.map(i=>e.jsx(ae,{value:i.value,children:i.label},i.value))}),e.jsx(B,{variant:"outlined",label:"Search",size:"small",value:t,onChange:d})]})},oe=({filterConfigs:t,onClose:a})=>e.jsx(U,{grouped:!1,onClose:a,sx:{border:"none"},children:t.map((r,s)=>e.jsx(G,{field:r.field,label:r.label,operator:"contains",filterComponent:r.filterComponent,filterProps:r.filterProps},`${r.field}-${s}`))}),de=[{field:"id",headerName:"ID",width:50},{field:"attr1",headerName:"Attribute 1",width:100},{field:"attr2",headerName:"Attribute 2",width:100},{field:"attr3",headerName:"Attribute 3",width:100}],ce=Array(25).fill(0),ue=ce.map((t,a)=>({id:a,attr1:"value",attr2:"value",attr3:"value"})),he=({previewItem:t,onClose:a})=>e.jsx(L,{elevation:0,sx:{height:"100%",padding:2},children:e.jsxs(p,{spacing:3,children:[e.jsxs(p,{spacing:1,children:[e.jsxs(p,{direction:"row",children:[e.jsx(m,{variant:"h6",component:"h3",flex:1,children:e.jsx(C,{to:"/explore-data/$id",params:{id:t.Id},children:t["Planet Name"]})}),e.jsx(H,{size:"small",onClick:a,children:e.jsx(te,{})})]}),e.jsx(m,{variant:"body2",children:"Row description, subtitle, or helper text."})]}),e.jsxs(o,{children:[e.jsx(m,{fontWeight:"medium",mb:1,children:"Property Group 1"}),e.jsx(D,{rows:[{label:"Property 1",value:"value"},{label:"Property 2",value:"value"},{label:"Property 3",value:"value"}]})]}),e.jsxs(o,{children:[e.jsx(m,{fontWeight:"medium",mb:1,children:"Property Group 2"}),e.jsx(D,{rows:[{label:"Property 4",value:"value"},{label:"Property 5",value:"value"}]})]}),e.jsxs(o,{children:[e.jsx(m,{fontWeight:"medium",mb:1,children:"Related Data"}),e.jsx(Z,{rows:ue,columns:de,disableRowSelectionOnClick:!0,initialState:{pagination:{paginationModel:{pageSize:5}}}})]}),e.jsxs(p,{direction:"row",children:[e.jsx(C,{to:"/explore-data/$id",params:{id:t.Id},children:e.jsx(b,{variant:"contained",children:"View details"})}),e.jsx(b,{variant:"outlined",children:"Export data"})]})]})}),F=[{field:"State",label:"State",operator:"contains-one-of",filterComponent:"CheckboxList",filterProps:{options:[{label:"New",value:"NEW"},{label:"Ready",value:"READY"},{label:"Spare",value:"SPARE"},{label:"Maintenance",value:"MAINT"}]}}],Me=function(){const[a,r]=c.useState(""),[s,u]=c.useState("all"),[d,h]=c.useState(),[l,i]=c.useState(!0),g=()=>{i(!1)},j=()=>{i(!l)},w=()=>{h(null)};return e.jsx($,{children:e.jsxs(o,{children:[e.jsx(J,{pageTitle:"Explore DEPOT Data",description:"View entries in DEPOT",sx:{marginBottom:1,padding:2}}),e.jsx(o,{children:e.jsxs(p,{direction:"row",children:[l&&e.jsx(o,{sx:{width:"350px"},children:e.jsx(oe,{filterConfigs:F,onClose:g})}),e.jsxs(L,{elevation:0,sx:{flex:1,minHeight:"600px",minWidth:0},children:[e.jsx(ne,{searchTerm:a,setSearchTerm:r,searchColumn:s,setSearchColumn:u,onToggleFiltersPanel:j}),e.jsx(re,{filterConfigs:F,searchTerm:a,searchColumn:s,setPreviewItem:h})]}),d&&e.jsx(o,{sx:{minWidth:"400px"},children:e.jsx(he,{previewItem:d,onClose:w})})]})})]})})};export{Me as component};
